(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8511e84"],{"030d":function(t,o,e){},"14de":function(t,o,e){"use strict";var s=e("030d"),a=e.n(s);a.a},e3a8:function(t,o,e){"use strict";function s(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function a(t,o){for(var e=0;e<o.length;e++){var s=o[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,o,e){return o&&a(t.prototype,o),e&&a(t,e),t}var r=function(){function t(){s(this,t),this.validUserFormReg={nickName:{reg:/^[\u4e00-\u9fa5\w]{1,10}$/,msg:"昵称格式不正确"},phone:{reg:/^1[3-9]\d{9}$/,msg:"手机号格式不正确"},password:{reg:/^[a-zA-Z]\w{5,15}$/,msg:"密码格式不正确且以字母开头"},oldPassword:{reg:/^[a-zA-Z]\w{5,15}$/,msg:"旧密码格式不正确且以字母开头"},email:{reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"},code:{reg:/^\d{6}$/,msg:"验证格式正确"}}}return n(t,[{key:"validUserForm",value:function(t,o){for(var e in t)if(!this.validUserFormReg[e].reg.test(t[e]))return o.$dialog.alert({message:this.validUserFormReg[e].msg}),!1;return!0}}]),t}();o["a"]=new r},fcfc:function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"modifyPW"},[e("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),e("div",{staticClass:"box"},[e("div",{staticClass:"box_newpasw"},[t._l(t.allBoxBut,(function(o,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:o.isHas,expression:"item.isHas"}],key:s,staticClass:"box_but"},[e("van-button",{attrs:{type:"primary",block:"",round:"",color:o.color},on:{click:function(e){return t.modifyAndSOtAndCCellation(o,s)}}},[t._v(t._s(o.title))])],1)})),t.isHas?e("div",{staticClass:"submi"},[e("van-form",{on:{submit:t.submitPW}},[e("van-field",{attrs:{name:"旧密码",placeholder:"旧密码",label:"旧密码",type:"password"},model:{value:t.userInfo.oldPassword,callback:function(o){t.$set(t.userInfo,"oldPassword",o)},expression:"userInfo.oldPassword"}}),e("van-field",{attrs:{type:"password",name:"新密码",label:"新密码",placeholder:"新密码"},model:{value:t.userInfo.password,callback:function(o){t.$set(t.userInfo,"password",o)},expression:"userInfo.password"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v(" 提交 ")])],1)],1)],1):t._e()],2)])],1)},a=[],n=e("e3a8"),r={data:function(){return{userInfo:{oldPassword:"",password:""},allBoxBut:[{title:"修改密码",color:"green",isHas:!0},{title:"退出登录",color:"green",isHas:!0},{title:"注销账号",color:"green",isHas:!0}],isHas:!1}},methods:{back:function(){this.$router.go(-1)},modifyAndSOtAndCCellation:function(t,o){var e=this,s={method:"POST",url:"",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:a}},a=localStorage.getItem("__Tk");if(0==o){this.isHas=!0,this.allBoxBut[o].color="red";for(var n=0;n<this.allBoxBut.length;n++)this.allBoxBut[n].isHas=!1}else 1==o?(s.url="http://www.kangliuyong.com:10002/logout",this.axiosPost(s)):this.$dialog.confirm({title:"注销账号",message:"是否确定注销账号，一旦注销账号无法恢复..."}).then((function(){s.url="http://www.kangliuyong.com:10002/destroyAccount",e.axiosPost(s)})).catch((function(t){}))},axiosPost:function(t){var o=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios(t).then((function(e){o.$toast.clear(),"http://www.kangliuyong.com:10002/logout"!=t.url&&"http://www.kangliuyong.com:10002/destroyAccount"!=t.url||(localStorage.removeItem("__Tk"),o.$router.push({name:"Login"}))})).catch((function(t){o.$toast.clear()}))},submitPW:function(){var t=this;if(n["a"].validUserForm(this.userInfo,this)){var o=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"http://www.kangliuyong.com:10002/updatePassword",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:o,password:this.userInfo.password,oldPassword:this.userInfo.oldPassword}}).then((function(o){t.$toast.clear(),"E001"==o.data.code?(localStorage.removeItem("__Tk"),t.$router.push({name:"Login"})):t.$toast(o.data.msg)})).catch((function(o){t.$toast.clear()}))}}}},i=r,l=(e("14de"),e("2877")),u=Object(l["a"])(i,s,a,!1,null,"6bc222d0",null);o["default"]=u.exports}}]);
//# sourceMappingURL=chunk-f8511e84.0d4108c3.js.map